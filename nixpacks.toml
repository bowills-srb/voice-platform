# Railway Monorepo Configuration
# Set SERVICE env var to: api, voice-engine, or dashboard

[phases.setup]
nixPkgs = ["nodejs_20", "openssl"]

[phases.install]
cmds = ["npm i -g pnpm@10.28.2 && pnpm install"]

[phases.build]
cmds = [
  "pnpm build:api",
  "pnpm build:voice-engine", 
  "pnpm build:dashboard"
]

[start]
cmd = "pnpm start"